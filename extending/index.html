



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.3">
    
    
      
        <title>Extending YATES - YATES</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web:300,400,400i,700|Droid+Sans+Mono">
        <style>body,input{font-family:"Titillium Web","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Droid Sans Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/fonts/postmaster.ttf.woff">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#extending-yates" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid">
    <div class="md-flex">

      <!-- Link to home -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../"
            title="YATES"
            class="md-header-nav__button md-logo">
          
            <img src="../img/yates-logo.png"
                width="100" height="36" />
          
        </a>
      </div>

      <!-- Button to toggle drawer -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button"
            for="drawer"></label>
      </div>

      <!-- Header title -->
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title"
            data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                YATES
              </span>
              <span class="md-header-nav__topic">
                Extending YATES
              </span>
            
          
        </div>
      </div>

      <!-- Button to open search dialogue -->
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button"
                for="search"></label>

            <!-- Search interface -->
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>

      <!-- Repository containing source -->
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/cornell-netlab/yates" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      YATES
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../img/yates-logo.png" width="48" height="48">
      
    </span>
    YATES
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/cornell-netlab/yates" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      YATES
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorial/" title="Tutorial" class="md-nav__link">
       Tutorial
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Extending YATES
      </label>
    
    <a href="./" title="Extending YATES" class="md-nav__link md-nav__link--active">
      Extending YATES
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-valiant-load-balancing-vlb" title="Example: Valiant Load Balancing (VLB)" class="md-nav__link">
    Example: Valiant Load Balancing (VLB)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" title="Implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example-valiant-load-balancing-vlb" title="Example: Valiant Load Balancing (VLB)" class="md-nav__link">
    Example: Valiant Load Balancing (VLB)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#background" title="Background" class="md-nav__link">
    Background
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" title="Implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="extending-yates">Extending YATES</h1>
<p>One of the primary objectives of YATES is to enable rapid prototyping of TE
systems. This page will demonstrate how to implement a new TE algorithm with
YATES.</p>
<hr />
<h2 id="example-valiant-load-balancing-vlb">Example: Valiant Load Balancing (VLB)</h2>
<p><strong>VLB</strong>: Suppose we want to implement a TE system based on <a href="http://yuba.stanford.edu/vlb/">Valiant Load
Balancing (VLB)</a> with YATES, and compare it with
other TE approaches.  Essentially, VLB routes traffic by forwarding flows from
a source to a destination through random intermediate nodes. It takes the
shortest paths to route from source to intermediate nodes, and from
intermediate nodes to the destination.</p>
<h3 id="background">Background</h3>
<p>Most functionality for implementing TE algorithms in YATES resides in
<a href="https://github.com/cornell-netlab/yates/tree/master/lib/routing"><code>lib/routing</code></a>.
A TE algorithm module has the following interface:</p>
<div class="codehilite"><pre><span></span><span class="k">module</span> <span class="k">type</span> <span class="nc">Algorithm</span> <span class="o">=</span> <span class="k">sig</span>
  <span class="c">(* Main function that computes the new routing scheme *)</span>
  <span class="k">val</span> <span class="n">solve</span> <span class="o">:</span> <span class="n">topology</span> <span class="o">-&gt;</span> <span class="n">demands</span> <span class="o">-&gt;</span> <span class="n">scheme</span>

  <span class="c">(* Optionally, initialize a TE module with a routing scheme *)</span>
  <span class="k">val</span> <span class="n">initialize</span> <span class="o">:</span> <span class="n">scheme</span> <span class="o">-&gt;</span> <span class="kt">unit</span>

  <span class="c">(* Optionally, augment the TE algorithm with a way to handle failures *)</span>
  <span class="k">val</span> <span class="n">local_recovery</span> <span class="o">:</span> <span class="n">scheme</span> <span class="o">-&gt;</span> <span class="n">topology</span> <span class="o">-&gt;</span> <span class="n">failure</span> <span class="o">-&gt;</span> <span class="n">demands</span> <span class="o">-&gt;</span> <span class="n">scheme</span>
<span class="k">end</span>
</pre></div>


<p>This interface uses types defined in <a href="https://github.com/cornell-netlab/yates/blob/master/lib/types/Types.ml"><code>lib/types/</code></a>.
The most essential function in this interface is the  <code>solve</code> function. <code>solve</code>
computes a routing scheme (of type <code>scheme</code>) given a topology (of type
<code>topology</code>) and traffic matrices (of type <code>demands</code>). A routing <code>scheme</code> is a
mapping from source-destination pairs to a probability distribution over paths
between those pairs.</p>
<div class="codehilite"><pre><span></span><span class="c">(* Map from source-destination pair to it&#39;s required bandwidth *)</span>
<span class="k">type</span> <span class="n">demands</span> <span class="o">=</span> <span class="kt">float</span> <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">t</span>

<span class="c">(* Map from source-destination pair to a probability distribution over paths *)</span>
<span class="k">type</span> <span class="n">scheme</span> <span class="o">=</span> <span class="o">(</span><span class="kt">float</span> <span class="nn">PathMap</span><span class="p">.</span><span class="n">t</span><span class="o">)</span> <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">t</span>
</pre></div>


<p>The weight (or probability) of path <em>p</em> in the distribution represents the
relative fraction of the source-destination traffic that should be sent over
<em>p</em>.</p>
<hr />
<h3 id="implementation">Implementation</h3>
<p>We start with writing a YATES TE module (<a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Vlb.ml"><code>Vlb.ml</code></a>) that implements the interface shown above.</p>
<p>The <a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Vlb.ml#L13"><code>solve</code></a>
function for VLB first pre-computes all-pair shortest paths for every pair of nodes using existing implementations provided in YATES.</p>
<div class="codehilite"><pre><span></span><span class="c">(* All shortest paths for all node pairs *)</span>
<span class="k">let</span> <span class="n">mpapsp</span> <span class="o">=</span> <span class="n">all_pairs_multi_shortest_path</span> <span class="n">topo</span> <span class="k">in</span>

<span class="c">(* Get one shortest path per node pair *)</span>
<span class="k">let</span> <span class="n">spf_table</span> <span class="o">=</span> <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">fold</span> <span class="n">mpapsp</span> <span class="o">~</span><span class="n">init</span><span class="o">:</span><span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">empty</span>
  <span class="o">~</span><span class="n">f</span><span class="o">:(</span><span class="k">fun</span> <span class="o">~</span><span class="n">key</span><span class="o">:(</span><span class="n">v1</span><span class="o">,</span><span class="n">v2</span><span class="o">)</span> <span class="o">~</span><span class="n">data</span><span class="o">:_</span> <span class="n">acc</span> <span class="o">-&gt;</span>
      <span class="k">match</span> <span class="n">get_random_path</span> <span class="n">v1</span> <span class="n">v2</span> <span class="n">topo</span> <span class="n">mpapsp</span> <span class="k">with</span>
      <span class="o">|</span> <span class="nc">None</span> <span class="o">-&gt;</span> <span class="n">acc</span>
      <span class="o">|</span> <span class="nc">Some</span> <span class="n">rand_path</span> <span class="o">-&gt;</span>
        <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">set</span> <span class="n">acc</span> <span class="o">~</span><span class="n">key</span><span class="o">:(</span><span class="n">v1</span><span class="o">,</span><span class="n">v2</span><span class="o">)</span> <span class="o">~</span><span class="n">data</span><span class="o">:</span><span class="n">rand_path</span><span class="o">)</span> <span class="k">in</span>

<span class="c">(* Returns a shortest path from a given source to a given destination *)</span>
<span class="k">let</span> <span class="n">find_path</span> <span class="n">src</span> <span class="n">dst</span> <span class="o">=</span> <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">find_exn</span> <span class="n">spf_table</span> <span class="o">(</span><span class="n">src</span><span class="o">,</span><span class="n">dst</span><span class="o">)</span> <span class="k">in</span>
</pre></div>


<p>Then, we iterate over the pairs of source-destination nodes and for each
pair, we compute the set of paths through all possible detour nodes, and
create a probability distribution over these paths, assigning uniform
probability for each path.</p>
<div class="codehilite"><pre><span></span><span class="c">(* A function that computes the shortest path through a given detour node.</span>
<span class="c">   It returns the concatenation of shortest src -&gt; det and det -&gt; dst nodes. *)</span>
<span class="k">let</span> <span class="n">route_thru_detour</span> <span class="n">src</span> <span class="n">det</span> <span class="n">dst</span> <span class="o">=</span>
  <span class="n">remove_cycles</span> <span class="o">(</span><span class="n">find_path</span> <span class="n">src</span> <span class="n">det</span> <span class="o">@</span> <span class="n">find_path</span> <span class="n">det</span> <span class="n">dst</span><span class="o">)</span> <span class="k">in</span>

<span class="c">(* Compute uniform probability distribution over paths through every possible</span>
<span class="c">   intermediate node for a given source and destination. *)</span>
<span class="k">let</span> <span class="n">vlb_pps</span> <span class="n">src</span> <span class="n">dst</span> <span class="o">=</span>
  <span class="c">(* Find paths through all possible detours *)</span>
  <span class="k">let</span> <span class="o">(</span><span class="n">paths</span><span class="o">,</span> <span class="n">num_detours</span><span class="o">)</span> <span class="o">=</span>
    <span class="nn">Topology</span><span class="p">.</span><span class="n">fold_vertexes</span>
      <span class="o">(</span><span class="k">fun</span> <span class="n">v</span> <span class="o">(</span><span class="n">p_acc</span><span class="o">,</span> <span class="n">ns_acc</span><span class="o">)</span> <span class="o">-&gt;</span>
         <span class="k">match</span> <span class="n">device</span> <span class="n">v</span> <span class="k">with</span>
         <span class="o">|</span> <span class="nn">Node</span><span class="p">.</span><span class="nc">Switch</span> <span class="o">-&gt;</span>
           <span class="c">(* Only route through switches *)</span>
           <span class="o">((</span><span class="n">route_thru_detour</span> <span class="n">src</span> <span class="n">v</span> <span class="n">dst</span><span class="o">)::</span><span class="n">p_acc</span><span class="o">,</span> <span class="n">ns_acc</span> <span class="o">+.</span> <span class="mi">1</span><span class="o">.)</span>
         <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span>
           <span class="o">(</span><span class="n">p_acc</span><span class="o">,</span> <span class="n">ns_acc</span><span class="o">)</span> <span class="o">)</span> <span class="n">topo</span> <span class="o">(</span><span class="bp">[]</span><span class="o">,</span> <span class="mi">0</span><span class="o">.)</span> <span class="k">in</span>
  <span class="c">(* Generate uniform probability distribution *)</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">fold_left</span> <span class="n">paths</span> <span class="o">~</span><span class="n">init</span><span class="o">:</span><span class="nn">PathMap</span><span class="p">.</span><span class="n">empty</span> <span class="o">~</span><span class="n">f</span><span class="o">:(</span><span class="k">fun</span> <span class="n">acc</span> <span class="n">path</span> <span class="o">-&gt;</span>
      <span class="n">add_or_increment_path</span> <span class="n">acc</span> <span class="n">path</span> <span class="o">(</span><span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="o">/.</span> <span class="n">num_detours</span><span class="o">))</span> <span class="k">in</span>
</pre></div>


<p>Finally, we create a routing scheme that maps each
source-destination pair to its corresponding distribution over paths.</p>
<div class="codehilite"><pre><span></span><span class="c">(* Folding over mpapsp just to get all src-dst pairs *)</span>
<span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">fold</span> <span class="n">mpapsp</span> <span class="o">~</span><span class="n">init</span><span class="o">:</span><span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">empty</span> <span class="o">~</span><span class="n">f</span><span class="o">:(</span><span class="k">fun</span> <span class="o">~</span><span class="n">key</span><span class="o">:(</span><span class="n">v1</span><span class="o">,</span><span class="n">v2</span><span class="o">)</span> <span class="o">~</span><span class="n">data</span><span class="o">:_</span> <span class="n">acc</span> <span class="o">-&gt;</span>
    <span class="k">match</span> <span class="o">(</span><span class="n">device</span> <span class="n">v1</span><span class="o">,</span> <span class="n">device</span> <span class="n">v2</span><span class="o">)</span> <span class="k">with</span>
    <span class="o">|</span> <span class="o">(</span><span class="nn">Node</span><span class="p">.</span><span class="nc">Host</span><span class="o">,</span> <span class="nn">Node</span><span class="p">.</span><span class="nc">Host</span><span class="o">)</span> <span class="o">-&gt;</span>
      <span class="nn">SrcDstMap</span><span class="p">.</span><span class="n">set</span> <span class="n">acc</span> <span class="o">~</span><span class="n">key</span><span class="o">:(</span><span class="n">v1</span><span class="o">,</span><span class="n">v2</span><span class="o">)</span> <span class="o">~</span><span class="n">data</span><span class="o">:(</span><span class="n">vlb_pps</span> <span class="n">v1</span> <span class="n">v2</span><span class="o">)</span>
    <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="n">acc</span><span class="o">)</span>
</pre></div>


<p>See <a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Vlb.ml"><code>lib/routing/Vlb.ml</code></a>
for the complete implementation.</p>
<p>To make the YATES simulator aware of the new TE algorithm, we need to perform a
few more steps. We create an interface <a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Vlb.mli"><code>Vlb.mli</code></a> for the new VLB module.
This interface is basically the same as we showed earlier.
We create an identifier <code>Vlb</code> for this module by adding it to <a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Yates_Routing.ml#L33"><code>Yates_Routing.ml</code></a> and <a href="https://github.com/cornell-netlab/yates/blob/master/lib/routing/Yates_Routing.mli#L33"><code>Yates_Routing.mli</code></a>. The VLB routing module is now ready. For use within the simulator, we would also need to add VLB as a solver type (see <a href="https://github.com/cornell-netlab/yates/blob/master/simulator/Simulation_Types.ml">here</a>) and define any <a href="https://github.com/cornell-netlab/yates/blob/master/simulator/Simulation_Util.ml#L7">helper functions</a> and a <a href="https://github.com/cornell-netlab/yates/blob/master/simulator/Yates_simulator.ml#L621">CLI flag</a>.
This new TE system can be used by simply specifying it's flag in the YATES CLI.
For example, to compare ECMP and VLB on the example Abilene topology, we can
run:</p>
<div class="codehilite"><pre><span></span>$ make <span class="o">&amp;&amp;</span> make install
$ yates data/topologies/abilene.dot <span class="se">\</span>
  data/demands/actual/abilene.txt data/demands/predicted/abilene.txt <span class="se">\</span>
  data/hosts/abilene.hosts -ecmp -vlb
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!--
  Copyright (c) 2016-2018 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="../tutorial/"
              title="Tutorial"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tutorial
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
      </nav>
    </div>
  

</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-56799372-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>
